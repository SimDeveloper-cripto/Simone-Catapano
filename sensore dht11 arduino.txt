#include <SimpleDHT.h>

/*
 * PIN SINISTRO: DATA
 * PIN CENTRALE: 5V
 * PIN DESTRO:   GND
 */

int pinDHT11 = 2; //associa il sensore al pin digitale 2.
SimpleDHT11 dht11(pinDHT11); // creazione dell'oggetto (SENSORE) della classe SimpleDHT11.

void setup() {
  Serial.begin(115200); // inizializza la porta seriale.
}

void loop() {
  int err = SimpleDHTErrSuccess; // variabile di appoggio per eventuali errori.
  byte temperature = 0; // variabile che indica la temperatura
  byte humidity = 0; // variabile che indica l'umidità

  // controllo errore di lettura nullo.
  if ((err = dht11.read(&temperature, &humidity, NULL)) != SimpleDHTErrSuccess) {
    delay(1000);
    return;
  } 
  // stampa dei dati di temperatura e umidità
  Serial.print("---> ");
  Serial.print(temperature); Serial.print(" °C, "); 
  Serial.print(humidity); Serial.println(" H");
}